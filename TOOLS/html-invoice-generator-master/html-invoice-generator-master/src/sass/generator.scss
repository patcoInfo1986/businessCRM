@import "partials/bootstrap", "partials/datepicker";

@import "compass";

/**
 * Default Invoice styles
 */

$background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAJ1BMVEXr6+vq6urs7Ozp6ent7e3u7u7o6Ojv7+/n5+fw8PDm5ubl5eXx8fETrQmTAAAFhElEQVR4Xi3VTXPjSB0G8H+3XhyYS7dkOZlZDuqW5JjiIqllO9wkuZ0MnGTLNjvsxW/Rbm1xsJ23KYpDHGcWFycyBVSF4hCWYmvZI8UH4MjHol27p9+x357n3yCWtM21tZDDeo3Hk2EA0BtMhrxQNAiwuZR2zbuLmf0ALTR45izN0eD1RwWrgYlEc+sCZWQW83PUaJTtHw9RY3apYFMY+VKIRhPqj9zmFr58T2mb4ctfbRU2AhLKEIud+EXuF6B7V7fdu7TjXXUXimkIeAzu+Q5RSpx72h5ingdDV+Er0BVAJnF+wp999EbtXjgWwelCOAOmiLoQWePL08AHqqeSug6gAvC5A+Ao5h2Yu9X6VaOsEozD8ejr8kOS1fWvy7NSkU0AJXSBiAGaAJPeoNXO4icuWh1FiiMHQpv3ehu0dx9RyfloHtVW8WQ094hiQYBhmg2Tz+Uv20PBcZXw5hyTKsm5Qoug3aj0ZXsNn858VNHgy0VUjzrBl98IxaUF3o57QbriS8Od7k0N34h4wDR8WipOHJAN6s7sB6phbSJ7um9iPqW6n04VdArIr65XUwZR3OrdmW/etqlF2Ju3u4Gi7oD7/RXIeSdD4/s8yR/cv4V5IluKGgfkUCeun9F2Ku1KRzX/t3/XG6i2uVAsNIjfVfC2uhSpyQZiyDt1i5sF78wyBUbwFldPUTga97014buUxcs+Ok6Z3VRsNIia4tcvjAqqXX0hd14wszu54wUTqhilsCqf+xUBTlve7s6XyDu7fyklsoQi1oFL7s5feXuIDS5do1dEzsnW6LU1BfkRWENqJBcMwMo59Zt2jTnrfzTtcKMIE7CodHpTChf2MoMPXf570Enc5a2VIsBAV8I+ywyZmSiuVKItqhLtAvo+2ODey26OjyhJgwx+ZxyF9V4ExtEOKcACcf+dEeszql9EMWAjzbTotW+kOlFkHrhDnsOoDdFgT+DPPsv+i9qFz+o/UUAT0Bf8qVXTqgFimkiQXM9O4iWSFw1FakLQkkm1dypU50xMy5PPXTzvlSdfbRSxDek/ZZYw9IwN8ukznhWeUUydWYFDxciCcMOblRFVx31iy0ZIoQARhpQYCjCB6c+1zKZ8MtwMJSJSzyxUEJlKBSBgD3e4yELKwCnGVL77lzFuuvLdX/+o0N7AA94fRgJNc7KR8ZHezV13e6T3rhVUh57Of0hlZvIzIo5S7GEiwkcFi+Dhid+vOgOwiEigfjhuMzUvGrOdYkEgNOk34FpAyv8Z8JquIqEeiK40WzHKwAM+WnpWFZfHXoVvyU85G352S/BHxb89EOk+/bldCr9lTkQzcfmH8hNIXNxSGAWADoBRCIgQ57s0S2paGC6zJF0duIbmk7CNfp93Kd5JfMgv3Wh2c1koxCk0NSCPzXjsM35M/ZRmlHStlNYPBCPQG0LLtVPZQPoAet/GXmMWjL6NeaTId/Cbm/Fj4VjccPhNdUvcPq1XjLj6QPHJBCx+Z+f1gFq4r3PNyf/jhRZ28p/lCvcWElv8wao/7TdWmXPnPC3i4C9wnhqaQv8KDBACzOPxDyNrW+g9q+VuHVA8MNgSWIKnj1HADCE3BCyfMwVSWDkgDaqPTxnQBdLGEZ0JLTEGdGaHBzR4nwm6BhOs9qtcGMTnroFuiJ9zReEDJWIdjDZ7CkvgYV+tQUrZR9ZQoZp5I/iAbSfCW2BvnK1DfYrqeB3CuYIjcBmIxuJ8Ly7qZJ85SMjepOkgO1Es7+H+ZawqRuShYvxQMfrat9KMRApvC6od3J6W9FALGdvc4qd2bnN2gOXAr0F3gs/4adfa0OSlN+wsatlLr+0prDEkf+J+AblQX9A1dDSEMxL7GiK+Iu3DKBTER4japi3p7DB9mYbdGT070P4/JfNcAmbpnUoAAAAASUVORK5CYII=");

$blank-gif: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";

$selection-backgroud: #2BA6CB;
$selection-color: #fff;

$contenteditable-color: rgb(94, 158, 215);

::selection {
  background:$selection-backgroud;
  color:$selection-color;
}

::-moz-selection {
  background:$selection-backgroud;
  color:$selection-color;
}

/**
 * FontAwesome icons subset
 */
@include font-face("FontAwesome", 
                  font-files("fontawesome-webfont-subset.woff2",
                             "fontawesome-webfont-subset.woff",
                             "fontawesome-webfont-subset.ttf",
                             "fontawesome-webfont-subset.otf",
                             "fontawesome-webfont-subset.svg#FontAwesome"),
                  "fontawesome-webfont-subset.eot");

/**
 * Open Sans
 */
@include font-face("Open Sans", 
                  font-files("opensans-regular.woff2",
                             "opensans-regular.woff",
                             "opensans-regular.ttf",
                             "opensans-regular.otf",
                             "opensans-regular.svg#Open-Sans-Regular"),
                  "opensans-regular.eot",
                  normal,
                  normal);

@include font-face("Open Sans", 
                  font-files("opensans-bold.woff2",
                             "opensans-bold.woff",
                             "opensans-bold.ttf",
                             "opensans-bold.otf",
                             "opensans-bold.svg#Open-Sans-Bold"),
                  "opensans-bold.eot",
                  bold,
                  normal);


$width:      100%;  /* the width is set to 100% for responsiveness */
$max-width:  820px; /* the maximun width must be '820px' to comply with the Invoicebus and wkhtmltopdf maximum width */
$font-stack: "Open Sans", "Helvetica Neue", Helvetica, Arial, Sans-serif;


/**
 * Define custom elements
 */
ib-span {
  display:inline;
}

ib-div {
  display:block;
}

.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.fa-save,
.fa-print,
.fa-spinner {
  margin-right: 3px;
}

.fa-save:before {
  content: "\f0c7";
}

.fa-print:before {
  content: "\f02f";
}

.fa-plus:before {
  content: "\f067";
}

.fa-minus:before {
  content: "\f068";
}

.fa-sort:before {
  content: "\f0dc";
}

.fa-question-circle:before {
  content: "\f059";
}

.fa-times-circle:before {
  content: "\f057";
}

.fa-spinner:before {
  content: "\f110";
}

.fa-fw:before {
  content: "\f115";
}

.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}

.fa-cloud-upload:before {
  content: "\f0ee";
}

.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}

@include keyframes(fa-spin) {
  0% {
    @include transform(rotate(0deg));
  }
  100% {
    @include transform(rotate(359deg));
  }
}


html {
  background:$background;
  font-family:$font-stack;
  @include box-sizing(border-box);

  body {
    font-family:$font-stack;
    background:white;
    width:$width;
    max-width:$max-width;
    // Minimum height must be 1158px so with the required 820px width they are in proportion of A4 paper format
    min-height:1158px;
    margin:105px auto 30px auto;
    @include box-shadow(0px 0px 20px rgba(80, 80, 80, .7));
  }

  input, button, textarea, select {
    outline:none !important;
  }
}

.relative {
  position: relative;
}

/* Overridden Bootstrap styles */
.tooltip {
  font: 11px bold $font-stack;

  .tooltip-inner {
    max-width: none;
    padding:8px;
  }
}

.datepicker {
  th {
    font-weight:bold;
    vertical-align:middle;
  }

  td {
    vertical-align:middle;
  }
}

.modal {
  font:normal 14px/1.4em $font-stack;
}

.modal-body {
  height:470px;
  padding:0;
}

.modal-open {
  padding:0 !important;
}

.modal-title {
  font-size:20px;
  text-align: center;
}

.modal-footer {
  text-align: center;
}

.modal-backdrop {
  z-index:1010;
}

/* Bootstrap typeahead styles */
.typeahead {
  z-index: 930;

  a {
    text-decoration:none;
  }
}

/**
 * Main Invoice Editor styles
 */

// Special case for IE
ib-span.ibcl_ie_contenteditable[contenteditable="true"] {
  display:block;
  width:100%;
  height:100%;

  &.hidden {
    display: none !important;
    width:0 !important;
  }
}

[contenteditable="true"] {
  cursor:text;

  &:hover  {
    outline:2px solid lighten($contenteditable-color, 25%);
  }

  &:focus {
    outline:2px solid $contenteditable-color;
  }
}

.ib_hide {
  display: none;
}

.ib_show {
  display: initial;
}

.ib_force_hide {
  display: none !important;
}

.ib_force_show {
  display: initial !important;
}

.ib_editable_outline {
  outline:1px solid lighten($contenteditable-color, 30%);
  background: lighten($contenteditable-color, 35%);
  color: #161616;
  @include single-transition(background-color, 0s !important);
}

.ib_row_commands {
  z-index: 900;
  position:absolute;
  width:100px;
  height:20px;
  top:0;
  left:-100px;

  .ib_commands {
    display:none;
    width:95px;
    position: relative;
    left:0;
    top:3px;
    text-indent: 0 !important;
    font-size:14px;
    font-style:normal;
    font-weight: bold;
    line-height: 1.4em;

    > ib-span {
      @include opacity(.6);

      &:hover {
        @include opacity(1);
      }
    }

    &:after {
      display:block;
      content:'';
      clear:both;
    }

    %row_command_icon {
      display:block;
      height:13px !important;
      width:13px !important;
      float:left;
      background:white;
      border-radius:50%;
      padding:7px;
      cursor:pointer;
      @include box-shadow(#919191 0 0 10px);
      text-align: center !important;
      line-height: 0.8em !important;
    }

    .ib_add {
      @extend %row_command_icon;
      color:shade(limegreen, 30%) !important;
      margin-right: 5px;
    }

    .ib_delete {
      @extend %row_command_icon;
      color:shade(red, 30%) !important;
      margin-right: 5px;
    }

    .ib_move {
      @extend %row_command_icon;
      color:shade(gray, 30%) !important;
      cursor:move;
    }
  }
}

.ib_dragrow {
  background:tint(mix(blue, green), 92.5%) !important;
  border-color:tint(mix(blue, green), 92.5%) !important;
  @include box-shadow(none !important);
}

.ib_remove_logo_overlay {
  display:none;
  position:absolute !important;
}

.ib_remove_logo {
  font-size:16px;
  color:white;
  background:#333;
  display:block;
  position:relative;
  top:10px;
  right:10px;
  float:right;
  width:8px;
  height:8px;
  z-index:900;
  cursor:pointer;
  overflow:visible;

  &:hover {
    background:shade(red, 30%);
  }

  i.fa {
    position:relative;
    top: -5px;
    left: -2px;
  }
}

.ib_logo_base64 {
  border:none;
  resize:none;
  width:100%;
  height:100%;
  padding:30px 40px;
  overflow: auto;
  @include box-sizing(border-box);
}

// Use the default Invoicebus dimensions
[data-logo="logo_url"] {
  width:150px;
  height:100px;
}

.ib_drop_zone {
  display:block;
  background:url($blank-gif) repeat !important;
  font:normal 14px/1.4em $font-stack !important;
  color:#bbb;
  border: 2px dashed #ddd;
  overflow: hidden !important;
  @include box-sizing('border-box !important');

  > ib-span {
    display:table-cell;
    text-align:center;
    vertical-align:middle;
    position:relative;
    overflow:hidden;
    width:inherit;
    height:inherit;
    @include box-sizing(border-box);
  }

  > ib-span > ib-span {
    font-size:12px !important;
  }

  input[type="file"] {
    background:transparent !important;
    width:inherit !important;
    height:inherit !important;
    position:absolute !important;
    top:-2px !important;
    left:-2px !important;
    @include opacity(0);
  }
}

.ib_border_hover {
  border:2px dashed #999 !important;
}

.ib_number_settings,
.ib_date_format {
  font:normal 14px/1.4em $font-stack !important;
  position:absolute !important;
  display:none;
  background:white !important;
  padding:5px 10px;
  text-indent: 0 !important;
  color: black !important;
  z-index: 900;

  @include box-shadow(0 0 5px 0 #999);
  @include border-radius(3px);

  select {
    border:none;
  }

  input[type="radio"] {
    top:2px;
    position:relative;
  }

  table {
    table-layout:fixed;

    th, td {
      vertical-align:top;
      word-break: keep-all;
      word-wrap: break-word;

      padding-bottom: 3px;
    }

    td:first-child {
      padding-right: 10px;
    }
  }
}

.ib_date_format {
  ib-div {
    margin: 2px 0;
  }
}

.ib_currencies_item {
  display:block;
  min-width:150px;
  text-indent: 0 !important;
  color: black !important;
  font:normal 14px/1.4em $font-stack !important;

  ib-span {
    text-indent: 0 !important;
    color: black !important;

    &:first-child {
      display:block;
      font-size: 12px;
      font-weight: bold;
      white-space: normal;
      word-wrap: break-word;
      float: left;
      width: 45px;
      text-align: left;
      margin-bottom: 5px;
    }

    &:nth-child(2) {
      display:block;
      float: left;
      clear: right;
      width: 30px;
    }

    &:last-child {
      display:block;
      clear: both;
      color: #888;
      font-size: 11px;
    }
  }
}

.ibcl_issue_date,
.ibcl_due_date,
.ibcl_net_term {
  @include single-transition(background-color, 1.2s, ease-in);
}

.ib_stop_animate {
  @include single-transition(background-color, 0s !important);
}

.ib_highlight_bg {
  background-color: #ffff97;
  @include single-transition(background-color, 0s !important);
}

.active .ib_currencies_item ib-span {
  color:white;
}

.ib_show_currency {
  padding-top: 10px;

  label {
    position: relative;
    top: -2px;
    margin-left: 5px;
  }
}

.ib_hide_column {
  width:0 !important;
  padding:0 !important;
  margin:0 !important;
  border:none !important;

  [data-row-number="item_row_number"] {
    display: block !important;
    width:0 !important;
    padding:0 !important;
    overflow: hidden !important;
  }
}

.ib_blue_link {
  color:#069 !important;
  text-indent: 0 !important;
  font:normal 14px/1.4em $font-stack;
  display:inline-block;
  cursor:pointer;
  text-decoration:underline;

  &:hover {
    color:#09c;
  }
}

.ib_bottom_row_commands {
  position: absolute;
  margin-top:20px;
  text-indent: 0 !important;
  z-index: 500;

  .ib_add_new_row_link {
    margin-right: 15px;
  }

  .ib_show_hide_columns {
    display: none;
    background: white !important;
    position: absolute;
    z-index: 900;
    top: 18px;
    left: 95px;
    padding:15px 10px 10px 10px !important;
    font:normal 14px/1.4em $font-stack !important;
    width: 165px;
    @include box-shadow(0 0 5px 0 #999);
    @include border-radius(3px);

    > ib-span {
      display: block;
      margin:2px 0;

      > input[type="checkbox"] {
        margin:0 10px 0 0;
      }

      > ib-span {
        cursor: default;
        position: relative;
        top: -1px;
        text-indent: 0 !important;
        color:black !important;
      }
    }
  }
}

.ib_default_button {
  font:normal 13px/1em $font-stack;
  border:1px solid;
  border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
  display: inline-block;
  padding: 4px 12px;
  margin-bottom: 0;
  line-height: 20px;
  color: #333333;
  text-align: center;
  text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);
  text-decoration: none;
  vertical-align: middle;
  cursor: pointer;
  background-color: #f5f5f5;
  background-repeat: repeat-x;
  @include border-radius(4px);
  @include box-shadow(inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05));
  @include background-image(linear-gradient(to bottom, #ffffff, #e6e6e6));

  &:hover,
  &:focus,
  &:active,
  &[disabled],
  &.active_hover {
    color: #333333;
    background-color: #e6e6e6;
  }

  &:active,
  &.active
  {
    background-color: #cccccc \9;
    background-image: none;
    outline: 0;
    @include box-shadow(inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05));
  }

  &:hover,
  &:focus {
    color: #333333;
    text-decoration: none;
    background-position: 0 -15px;
    @include transition(background-position 0.1s linear);
  }

  &:focus {
    outline: thin dotted #333;
    outline: 5px auto -webkit-focus-ring-color;
    outline-offset: -2px;
  }
}

.ib_success_button {
  color: #ffffff;
  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  background-color: #5bb75b;
  background-repeat: repeat-x;
  @include background-image(linear-gradient(to bottom, #62c462, #51a351));

  &:hover,
  &:focus,
  &:active,
  &[disabled] {
    color: #ffffff;
    background-color: #51a351;
  }
}

.ib_disabled_button
{
  cursor: not-allowed;
  pointer-events: none;
  @include opacity(.65);
  @include box-shadow(none);
}

.ib_large_button {
  display: block;
  width: 150px;
  margin: 35px auto 0 auto;
  padding: 7px;
  font-size: 14px;

  .fa-bolt {
    margin-right: 3px;
  }
}

.ib_gray_link {
  font:normal 13px/1.4em $font-stack;
  color:#777;
  cursor:pointer;

  &:hover {
    text-decoration: underline;
  }
}

.ib_invoice_commands_wrap {
  position: fixed;
  left: 0;
  right: 0;
  width: 100%;
  background:$background;
  z-index:1000;
  @include transition(box-shadow 0.3s ease-in);
  @include box-sizing(border-box);

  &.ib_commands_shadow {
    @include box-shadow(0px 0px 30px rgba(142, 142, 142, 0.7));
  }

  .ib_invoice_commands {
    display:block;
    width:$width;
    max-width:$max-width;
    margin:0 auto;
    clear:both;
    padding: 30px 0 20px 0;

    .ib_default_button {
      float: left;
      margin-right: 7px;
      padding:5px 10px;

      .fa {
        margin-right: 3px;
      }

      &.ib_open_data {
        position: relative;

        input[type="file"] {
          background: transparent !important;
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          @include opacity(0);
          cursor: pointer;
        }
      }

      &.ib_save_online {
        margin-right: 0;
      }
    }

    .ib_success_button {
      margin-right: 0;
    }

    .ib_save_info {
      display: none;
      float: left;
      position:relative;
      top:8px;
      color:#888;
      @include opacity(.7);
      cursor: help;
      margin-left: 20px;
      width:18px;
      text-align:center;

      &:hover {
        @include opacity(1);
      }
    }

    .ib_top_separator {
      font-size: 12px;
      color: #888;
      top: 9px !important;
      margin:0 10px;
    }

    .ib_pull_right {
      float:right;
      position:relative;
      top:6px;
    }

    &:after {
      content:'';
      clear:both;
      display:block;
    }
  }
}

.ib_item_percentage:after {
  content: "%";
}

.ibcl_item_description,
.ibcl_item_quantity,
.ibcl_item_price,
.ibcl_item_discount,
.ibcl_item_tax,
.ibcl_item_line_total {

  &:empty {
    min-width: 20px !important;
    min-height: 18px !important;
  }
}

.ibcl_item_price,
.ibcl_item_line_total,
.ibcl_amount_paid {

  &.add_currency_left:before {
    content: attr(data-currency);
  }

  &.add_currency_right:after {
    content: attr(data-currency);
  }
}

[data-ibcl-id="tax_value"]:before {
  content: "(" attr(data-ib-value) "%)";
  font-size: 12px;
  color: #999;
  margin-right: 5px;
}

.ib_invoicebus_love {
  clear:both;
  display:block;
  font:normal 14px/1.5em $font-stack;
  text-align:center;
  margin-bottom:50px;
  color:#8f8f8f;

  ib-span {
    font:normal 14px/1.5em $font-stack;
    color:#555;
    text-decoration:none;
    cursor:pointer;

    &:hover {
      text-decoration:underline;
    }
  }
}

.ib_invoicebus_fineprint {
  display:none;
  font:normal 12px/1.4em $font-stack;
  color:#777;
  text-align:center;
  position:absolute;
  bottom:30px;
  width: 100%;

  ib-span {
    cursor:pointer;
  }
}

.ib_how_to_container {
  @extend .modal-body;
  overflow: auto;

  .ib_modal_container {
    font-size:13px;
    line-height:1.6em;
    padding: 30px 40px;

    .ib_a {
      color: #428bca;
      text-decoration: none;
      cursor:pointer;

      &:hover,
      &:focus {
        color: #2a6496;
        text-decoration: underline;
      }

      &:focus {
        outline: thin dotted;
        outline: 5px auto -webkit-focus-ring-color;
        outline-offset: -2px;
      }
    }

    .ib_b {
      font-weight: bold;
    }

    .ib_h3 {
      font-size: 15px;
      font-weight: bold;
      margin: 25px 0 10px;
    }

    .ib_p {
      margin-bottom: 15px;
    }

    .ib_ul {
      .ib_li {
        margin:0 0 5px 20px;
      }
    }

    .ib_code {
      font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
      padding: 2px 4px;
      font-size: 90%;
      color: #c7254e;
      background-color: #f9f2f4;
      border-radius: 4px;
    }

    .ib_safari_note {
      text-align: center;
      margin-top: 15px;
    }

    $notice-color: #fcf8e3;
    .ib_notice {
      background: $notice-color;
      border: 1px solid shade($notice-color, 7%);
      @include border-radius(5px);
      padding: 15px;
    }
  }
}

/* Make the generator layout responsive  */

@media only screen and (max-width: 875px) {
  html,
  .ib_invoice_commands_wrap {
    padding: 0 15px !important;
  }

  .ib_invoice_commands {

    .ib_hide_medium {
      display: none;
    }
  }
}

@media only screen and (max-width: 850px) {

  .ib_invoice_commands {

    .ib_hide_xsmall {
      display: none;
    }

    .ib_default_button {
      width: 14px;

      .fa {
        margin-right: 0 !important;
      }
    }
  }
}

@media only screen and (max-width: 460px) {

  .ib_invoice_commands {
    padding: 15px 0 15px 0 !important;

    .ib_clear_xsmall {
      display: block;
      clear: both;
    }

    .ib_pull_right {
      float: left !important;
      margin-top: 5px !important;
    }
  }
}

@import "partials/invoice.print";
